{%extends 'base.html'%}
{%block header%}
<title>Departments</title>
{%endblock%}
{%block body%}
<div class="container">
    <h1>Departments</h1>
    <div class="box">
        <a href="/department/add">Add Department</a>
        {%if departments|length ==0%}
            No Departments in Database <a href="/department/add">Add Department</a>
        {%else%}
        <table>
            <tr>
                <th>DepartmentID</th>
                <th>Name</th>
                <th>Head</th>
                <th>Instructors</th>
                <th>Actions</th>
            </tr>
            {%for department in departments%}
                <tr>
                    <td>{{department.id}}</td>
                    <td>{{department.name}}</td>
                    <td>{{department.head.fname}} {{department.head.lname}}</td>
                    <td>{{department.instructors|length}}</td>
                    <td>
                        <a href="/department/{{department.id}}/update">Update</a>
                        <a href="/department/{{department.id}}/instructors">Instructors</a>
                    </td>
                </tr>
            {%endfor%}
        </table>
        {%endif%}
    </div>
</div>
<script>
    document.querySelectorAll('nav a')[4].classList.add('active');
</script>
{%endblock%}